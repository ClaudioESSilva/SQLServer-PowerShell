/*
	Created by REDGLUEL1\Claudio Silva using dbatools Export-DbaLogin for objects on localhost,1433 at 2019-11-26 12:33:14.351
	See https://dbatools.io/Export-DbaLogin for more information
*/
USE master

GO
IF NOT EXISTS (SELECT loginname FROM master.dbo.syslogins WHERE name = 'app1') CREATE LOGIN [app1] WITH PASSWORD = 0x0100782FBD65E30E772B02685C41E3F69FC1E639EC77F5F4061A HASHED, SID = 0x63F51E14DBA20942AF361A3300193A7B, DEFAULT_DATABASE = [master], CHECK_POLICY = OFF, CHECK_EXPIRATION = OFF, DEFAULT_LANGUAGE = [us_english]
GO

USE master

GO
Grant CONNECT SQL TO [app1]  AS [sa]
GO

USE master

GO
IF NOT EXISTS (SELECT loginname FROM master.dbo.syslogins WHERE name = 'appAdmin') CREATE LOGIN [appAdmin] WITH PASSWORD = 0x010078D465BE65DAF3B59593301B62F6199E86E70E83A542E19F HASHED, SID = 0x9243AF88BBE7B74EB83607393A9BB427, DEFAULT_DATABASE = [master], CHECK_POLICY = OFF, CHECK_EXPIRATION = OFF, DEFAULT_LANGUAGE = [us_english]
GO

USE master

GO
Grant CONNECT SQL TO [appAdmin]  AS [sa]
GO

USE master

GO
IF NOT EXISTS (SELECT loginname FROM master.dbo.syslogins WHERE name = 'BUILTIN\Administrators') CREATE LOGIN [BUILTIN\Administrators] FROM WINDOWS WITH DEFAULT_DATABASE = [master], DEFAULT_LANGUAGE = [us_english]
GO
ALTER SERVER ROLE [sysadmin] ADD MEMBER [BUILTIN\Administrators]
GO

USE master

GO
Grant CONNECT SQL TO [BUILTIN\Administrators]  AS [sa]
GO

USE master

GO
IF NOT EXISTS (SELECT loginname FROM master.dbo.syslogins WHERE name = 'distributor_admin') CREATE LOGIN [distributor_admin] WITH PASSWORD = 0x0200A1E37336367DCA8A0D57373A5125982D7F774312E358C06DDD295A79FDC9F26509D7E95BF8D599EB0731F15D13272C5E2F504BC0B2C302BDC19F9697EAD3B442A7451083 HASHED, SID = 0x6EFAF247DFA6824EA9BA9B3ACC5949E6, DEFAULT_DATABASE = [master], CHECK_POLICY = ON, CHECK_EXPIRATION = OFF, DEFAULT_LANGUAGE = [us_english]
GO
ALTER SERVER ROLE [sysadmin] ADD MEMBER [distributor_admin]
GO

USE master

GO
Grant CONNECT SQL TO [distributor_admin]  AS [sa]
GO

USE master

GO
IF NOT EXISTS (SELECT loginname FROM master.dbo.syslogins WHERE name = 'sqladmin') CREATE LOGIN [sqladmin] WITH PASSWORD = 0x02004655C1D65FA47CC10F4544048D810E5820A1978DF8750708B3AAE6F039240AD275961BFD9FBCE961ED84B69B4B2A93D62C4C32AF953312EE5B3C189901D92D52438E9E10 HASHED, SID = 0x21A63BA3525821498FDED3037F96A293, DEFAULT_DATABASE = [master], CHECK_POLICY = ON, CHECK_EXPIRATION = OFF, DEFAULT_LANGUAGE = [us_english]
GO
ALTER SERVER ROLE [sysadmin] ADD MEMBER [sqladmin]
GO

USE master

GO
Grant CONNECT SQL TO [sqladmin]  AS [sa]
GO

USE master

GO
IF NOT EXISTS (SELECT loginname FROM master.dbo.syslogins WHERE name = 'storageuser') CREATE LOGIN [storageuser] WITH PASSWORD = 0x01003A2F024897F4A96E4AC4167E6431FBB0E26A9A987644D720 HASHED, SID = 0xEA947BDFB542FC4B816012ADE47D1651, DEFAULT_DATABASE = [master], CHECK_POLICY = OFF, CHECK_EXPIRATION = OFF, DEFAULT_LANGUAGE = [us_english]
GO

USE master

GO
Grant CONNECT SQL TO [storageuser]  AS [sa]
GO

USE master

GO
IF NOT EXISTS (SELECT loginname FROM master.dbo.syslogins WHERE name = 'testlogin') CREATE LOGIN [testlogin] WITH PASSWORD = 0x02002E0CB89BE6A3118A65BE3B9BA53C98854361125B5722FAC66E9E32A6A996537E6E3556BCC09C4D0807650FD6753AA61881DAEE0C4AE962856EA17E0DDF2DFABBFC65BC34 HASHED, SID = 0x7612E56A4CAB2C468A7D24736564C6F7, DEFAULT_DATABASE = [master], CHECK_POLICY = OFF, CHECK_EXPIRATION = OFF, DEFAULT_LANGUAGE = [Français]
GO

USE master

GO
Grant CONNECT SQL TO [testlogin]  AS [sa]
GO

USE master

GO
IF NOT EXISTS (SELECT loginname FROM master.dbo.syslogins WHERE name = 'TestOrphan1') CREATE LOGIN [TestOrphan1] WITH PASSWORD = 0x0100479BFEEE79E83E8B847AAF33CD9A04B439ED43476C20BDDE HASHED, SID = 0xF1BACB136DD3764C9CE200E49041A0C2, DEFAULT_DATABASE = [master], CHECK_POLICY = OFF, CHECK_EXPIRATION = OFF, DEFAULT_LANGUAGE = [us_english]
GO

USE master

GO
Grant CONNECT SQL TO [TestOrphan1]  AS [sa]
GO

USE master

GO
IF NOT EXISTS (SELECT loginname FROM master.dbo.syslogins WHERE name = 'TestOrphan2') CREATE LOGIN [TestOrphan2] WITH PASSWORD = 0x01000698EFA5455FE8F1C91429ECA4FE9CBFEFB953F1C08F96D5 HASHED, SID = 0x299C2102F657B4458F75653CB19A54A3, DEFAULT_DATABASE = [master], CHECK_POLICY = OFF, CHECK_EXPIRATION = OFF, DEFAULT_LANGUAGE = [us_english]
GO

USE master

GO
Grant CONNECT SQL TO [TestOrphan2]  AS [sa]
GO

USE master

GO
IF NOT EXISTS (SELECT loginname FROM master.dbo.syslogins WHERE name = 'testuser2') CREATE LOGIN [testuser2] WITH PASSWORD = 0x0200DB112FF49345FC8DBE87F1F093429E5FCB4197F1E18D92D1594172843CE5CDA3B3DF269E2962D977EB60DFC855EAB774085069B43C408B3228A8EC20D4F2CE9775A0C0D7 HASHED, SID = 0xF959ADF337EF1149977812AD7969837C, DEFAULT_DATABASE = [master], CHECK_POLICY = OFF, CHECK_EXPIRATION = OFF, DEFAULT_LANGUAGE = [us_english]
GO
ALTER LOGIN [testuser2] DISABLE
GO
DENY CONNECT SQL TO [testuser2]
GO
ALTER SERVER ROLE [setupadmin] ADD MEMBER [testuser2]
GO

USE master

GO
Deny CONNECT SQL TO [testuser2]  AS [sa]
GO

USE master

GO
IF NOT EXISTS (SELECT loginname FROM master.dbo.syslogins WHERE name = 'webuser') CREATE LOGIN [webuser] WITH PASSWORD = 0x0100162F297ABC8257F6431EA4FC8B776D42EFE04D6023211A08 HASHED, SID = 0x199A7A25579A3E4193A59299130DB683, DEFAULT_DATABASE = [master], CHECK_POLICY = OFF, CHECK_EXPIRATION = OFF, DEFAULT_LANGUAGE = [us_english]
GO
ALTER SERVER ROLE [dbcreator] ADD MEMBER [webuser]
GO
ALTER SERVER ROLE [processadmin] ADD MEMBER [webuser]
GO

USE master

GO
Grant CONNECT SQL TO [webuser]  AS [sa]
GO
